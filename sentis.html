<!doctype html>
<html>

<head>
  <link rel="stylesheet" href="https://unpkg.com/flowbite@1.5.3/dist/flowbite.min.css" />
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Senti | see sentis</title>
  <meta name="description" content="See people's sentis and emotions similar to you.">
  <meta property="og:image" content="./senti-poster.png">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" />
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tw-elements/dist/css/index.min.css" />
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="./favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="./favicon-16x16.png">
  <link rel="manifest" href="./site.webmanifest">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.plot.ly/plotly-2.14.0.min.js"></script>
  <script src="https://unpkg.com/flowbite@1.5.3/dist/flowbite.js"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          darkMode: 'class',
          colors: {
            'regal-blue': '#243c5a',
            /*
            nord0->nord3, dark colors,"polar night"
            nord4->nord6, light colors, "snow storm"
            nord7 = pale green
            nord8 = blue
            nord9 = blue
            nord10 = blue
            nord11 = red
            nord12 = orange
            nord13 = yellow
            nord14 = green
            nord15 = purple
            */
            'nord0': '#2e3440',
            'nord1': '#3b4252',
            'nord2': '#434c5e',
            'nord3': '#4c566a',
            'nord4': '#d8dee9',
            'nord5': '#e5e9f0',
            'nord6': '#eceff4',
            'nord7': '#8fbcbb',
            'nord8': '#88c0d0',
            'nord9': '#81a1c1',
            'nord10': '#5e81ac',
            'nord11': '#bf616a',
            'nord12': '#d08770',
            'nord13': '#ebcb8b',
            'nord14': '#a3be8c',
            'nord15': '#b48ead'
          },
          fontFamily: {
            // sans: ['Inter var', ...defaultTheme.fontFamily.sans]
          }
        }
      }
    }

  </script>
  <link rel="stylesheet" href="https://rsms.me/inter/inter.css">
</head>

<body class="flex flex-col bg-nord0">
  <!-- This example requires Tailwind CSS v2.0+ -->
  <nav class="bg-nord0 border-gray-200 px-5 sm:px-4 py-2.5 rounded">
    <div class="container flex flex-wrap justify-between items-center mx-auto">
      <a href="index.html" class="flex items-center">
          <img src="senti-logo.svg" class="mr-3 h-6 sm:h-9" alt="Flowbite Logo" />
      </a>
      <button data-collapse-toggle="navbar-default" type="button" class="inline-flex items-center p-2 ml-3 text-sm text-nord6 rounded-lg md:hidden hover:bg-nord2 focus:outline-none focus:ring-2 focus:ring-nord3 dark:text-gray-400 dark:hover:bg-gray-700 dark:focus:ring-gray-600" aria-controls="navbar-default" aria-expanded="false">
        <span class="sr-only">Open main menu</span>
        <svg class="w-6 h-6" aria-hidden="true" fill="currentColor" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path fill-rule="evenodd" d="M3 5a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 10a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1zM3 15a1 1 0 011-1h12a1 1 0 110 2H4a1 1 0 01-1-1z" clip-rule="evenodd"></path></svg>
      </button>
      <div class="hidden w-full md:block md:w-auto" id="navbar-default">
        <ul class="flex flex-col p-4 mt-4 bg-nord0 rounded-lg border border-nord3 md:flex-row md:space-x-8 md:mt-0 md:text-sm md:font-medium md:border-0 md:bg-nord0">
          <li>
            <a href="index.html" class="block py-2 pr-4 pl-3 text-nord6 rounded bg-gradient-to-r hover:from-nord8 hover:to-nord9 md:hover:bg-transparent md:text-white md:hover:text-transparent md:hover:bg-clip-text md:hover:bg-gradient-to-r md:hover:from-nord9 md:hover:to-nord8 md:border-0 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">add your senti</a>
          </li>
          <li>
            <a href="find.html" class="block py-2 pr-4 pl-3 text-nord6 rounded bg-gradient-to-r hover:from-nord8 hover:to-nord9 md:hover:bg-transparent md:text-white md:hover:text-transparent md:hover:bg-clip-text md:hover:bg-gradient-to-r md:hover:from-nord9 md:hover:to-nord8 md:border-0 md:p-0 dark:text-gray-400 md:dark:hover:text-white dark:hover:bg-gray-700 dark:hover:text-white md:dark:hover:bg-transparent">find senti</a>
          </li>
          <li>
            <a href="sentis.html" class="block py-2 pr-4 pl-3 text-nord6 bg-gradient-to-r from-nord8 to-nord9 hover:from-nord9 hover:to-nord8 rounded md:bg-transparent md:text-transparent md:bg-clip-text md:bg-gradient-to-r md:from-nord8 md:to-nord9 md:hover:from-nord9 md:hover:to-nord8 md:p-0 dark:text-white" aria-current="page">see senti</a>
          </li>
        </ul>
      </div>
    </div>
    <hr class="mt-2 invisible sm:visible dark space-y-1 border-1 border-nord3">
  </nav>

  <!-- NAVBAR 2.0 -->
  <div class="dark bg-nord0 pt-10 rounded-md py-2 bg-nord-7 flex flex-col md:flex-row items-center justify-center" role="group">
    <button id="Sad" type="button"
      class="dark w-1/2 md:w-auto py-2 px-4 text-sm font-medium text-gray-900 bg-white border-t border-b border-gray-200 hover:bg-nord3 hover:text-nord4 focus:z-10 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:hover:bg-nord10 dark:focus:text-white rounded-l-md">
      sad
    </button>
    <button id="Down" type="button"
      class="dark w-1/2 md:w-auto py-2 px-4 text-sm font-medium text-gray-900 bg-white border-t border-b border-gray-200 hover:bg-nord3 hover:text-nord4 focus:z-10 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-nord15 dark:focus:text-white">
      down
    </button>
    <button id="content" type="button"
      class="dark w-1/2 md:w-auto py-2 px-4 text-sm font-medium text-gray-900 bg-white border-t border-b border-gray-200 hover:bg-nord3 hover:text-nord4 focus:z-10 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-nord0 dark:focus:text-white">
      content
    </button>
    <button id="happy" type="button"
      class="dark w-1/2 md:w-auto py-2 px-4 text-sm font-medium text-gray-900 bg-white border-t border-b border-gray-200 hover:bg-nord3 hover:text-nord4 focus:z-10 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-nord14 dark:focus:text-white">
      happy
    </button>
    <button id="ecstatic" type="button"
      class="dark w-1/2 md:w-auto py-2 px-4 text-sm font-medium text-gray-900 bg-white border-t border-b border-gray-200 hover:bg-nord3 hover:text-nord4 focus:z-10 focus:ring-2 dark:bg-gray-700 dark:border-gray-600 dark:text-white dark:hover:text-white dark:hover:bg-nord13 dark:focus:text-white  rounded-r-md">
      ecstatic
    </button>
  </div>


  <div class="flex my-20 flex-col justify-center items-center border-3 bg-nord0">
    <div class="md:w-4/5 md:h-4/5 px-5 mr-5 md:px-20 flex flex-col space-y-5">
      <!-- BODY BELOW -->

      <!-- SIDEBAR -->
      <!-- <div class="w-1/4">
                <div class="overflow-y-auto rounded bg-nord4 text-center">
                    <ul>
                        <a href=""><li class="py-5 rounded ease-in-out duration-200 hover:bg-nord13">
                            BeEcstatics
                        </li></a>
                        <a href=""><li class="py-5 rounded ease-in-out duration-200 hover:bg-nord14">
                            BeHappys
                        </li></a>
                        <a href=""><li class="py-5 rounded ease-in-out duration-200 hover:bg-nord2">
                            BeContents
                        </li></a>
                        <a href=""><li class="py-5 rounded ease-in-out duration-200 hover:bg-nord15">
                            BeDowns
                        </li></a>
                        <a href=""><li class="py-5 rounded ease-in-out duration-200 hover:bg-nord10">
                            BeSad
                        </li></a>
                    </ul>
                </div>
        </div> -->



      <!-- TITLE -->

      <h1 id="typeText"
        class="font-extrabold text-transparent text-6xl bg-clip-text bg-gradient-to-r from-nord4 to-nord5">
        see happy sentis.
      </h1>
      <div id="sentiGrid" class="w-auto md:w-full md:grid md:grid-cols-2 md:gap-4"></div>
    </div>
  </div>
  <hr class="space-y-1 border-1 border-nord3">
  <footer class="h20 py-5 flex flex-1 flex-col justify-center items-center text-center">
    <h2 class="text-nord4 text-l text-medium">Made with ❤️ by the <b>bonobo</b> team.</h2>
  </footer>
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.10.0/firebase-app.js";
    import { getDatabase, push, set, child, ref, onValue} from "https://www.gstatic.com/firebasejs/9.10.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyAHRbCmE_ynGBxlW0x5J9u9H3XBOrFhedA",
      authDomain: "beyou-21d2f.firebaseapp.com",
      databaseURL: "https://beyou-21d2f-default-rtdb.firebaseio.com",
      projectId: "beyou-21d2f",
      storageBucket: "beyou-21d2f.appspot.com",
      messagingSenderId: "718679255077",
      appId: "1:718679255077:web:a5d19b54e474a1d968b7cc",
      measurementId: "G-FVD7M6CJ1Z"
    };

    const app = initializeApp(firebaseConfig);

    // So we don't add duplicate posts
    let current_posts_added = [];
    // So we can access the current type in findPost / onValue
    var types = ["see sad sentis.", "see down sentis.", "see content sentis.", "see happy sentis.", "see ecstatic sentis."];
    var type = document.getElementById("typeText");
    var active = document.getElementById("content");

    var postDatabase = getDatabase(app);
    function findPost() {
        current_posts_added = [];
        const happyPost = ref(postDatabase);
        var posts = child(happyPost, 'Posts');
        var grid = document.getElementById("sentiGrid");
        grid.innerHTML = "";
        onValue(posts, (snapshot) => {
            snapshot.forEach(function (childSnapshot) {

                // get current "be" subsection
                let type_subsection = type.innerText.split(" ")[1] + ".";

                console.log("----------------");
                console.log(childSnapshot.val().text);
                console.log(childSnapshot.val().type, childSnapshot.key);
                console.log(type_subsection);
                console.log(current_posts_added);
                if ((childSnapshot.val().type == type_subsection) && (!current_posts_added.includes(childSnapshot.key))) {
                    console.log("SUCCESS");
                    current_posts_added.push(childSnapshot.key);

                    // Adding the html component
                    grid.innerHTML += "<a href='#' class='dark bg-nord12 block md:w-full mb-2 p-6 bg-nord1 rounded-lg border border-nord3 shadow-md hover:bg-nord2 dark:bg-nord1 dark:border-nord3 dark:hover:bg-nord3'> <h5 class='mb-2 text-2xl font-bold tracking-tight text-transparent text-3xl bg-clip-text bg-gradient-to-r from-nord8 to-nord9'>" + childSnapshot.val().text + "</h5> <p class='font-normal text-gray-700 dark:text-gray-400'>" + childSnapshot.val().time + "</p> </a>";
            }
        });
      });
    }

    // When we submit a post:

    if (location.search.split("=")[1] < 20) {
      type.innerText = types[0];
      findPost("sad.");
    } else if (location.search.split("=")[1] < 40) {
      type.innerText = types[1];
      findPost("down.");
    } else if (location.search.split("=")[1] < 60) {
      type.innerText = types[2];
      findPost("content.");
    } else if (location.search.split("=")[1] < 80) {
      type.innerText = types[3];
      findPost("happy.");
    } else if (location.search.split("=")[1] < 100) {
      type.innerText = types[4];
      findPost("ecstatic.");
    } else {
      type.innerText = types[3];
      findPost("happy.");
    }
    document.getElementById("Sad").addEventListener("click", function () {
      document.getElementById("typeText").innerText = "see sad sentis.";
      findPost("sad.");
    });

    document.getElementById("Down").addEventListener("click", function () {
      document.getElementById("typeText").innerText = "see down sentis.";
      findPost("down.");
    });

    document.getElementById("content").addEventListener("click", function () {
      document.getElementById("typeText").innerText = "see content sentis.";
      findPost("content.");
    });

    document.getElementById("happy").addEventListener("click", function () {
      document.getElementById("typeText").innerText = "see happy sentis.";
      findPost("happy.");
    });

    document.getElementById("ecstatic").addEventListener("click", function () {
      document.getElementById("typeText").innerText = "see ecstatic sentis.";
      findPost("ecstatic.");
    });
  </script>
</body>

</html>